---
title: Setting up DHCP Server in Fedora
category: Linux
author: Wanga Evans
banner: '/images/es6.png'
description: Linux Administration
date: 2023-10-28
---

## DHCP server configuration and management

Configuring and managing a DHCP (Dynamic Host Configuration Protocol) server on Fedora
Server is essential for automatically assigning IP addresses and network configuration
information to client devices on your network.

Here are some notes on how to configure and
manage a DHCP server on Fedora Server.

Install DHCP Server
Before configuring a DHCP server, ensure that the DHCP package is installed. You can install
it using the following command:

```bash
  $ sudo dnf install dhcp
```

**Configuration File**
The main configuration file for the DHCP server is typically located
`/etc/dhcp/dhcpd.conf`. You'll need to edit this file to define your DHCP settings.
at

### Basic DHCP Configuration

Open /etc/dhcp/dhcpd.conf in a text editor, and add a configuration block. For example:

```sh
subnet 192.168.1.0 netmask 255.255.255.0 {
range 192.168.1.100 192.168.1.200;
option subnet-mask 255.255.255.0;
option routers 192.168.1.1;
option domain-name-servers 8.8.8.8, 8.8.4.4;
}
```

**Explanation**

-  subnet: Defines the subnet for which you want to provide DHCP services.
-  range: Specifies the range of IP addresses to be assigned to clients.
-  option subnet-mask: Sets the subnet mask for the assigned IPs.
-  option routers: Specifies the default gateway.
-  option domain-name-servers: Configures DNS server addresses.
  You can also use the DHCP configuration file to define static IP addresses for specific clients.
  To do this, you use the host statement. The following example shows how to define a static IP
  address for the client with the MAC address 00:66:77:88:99:33:

```sh
host my-client {
hardware ethernet 00:66:77:88:99:33;
ﬁxed-address 192.168.1.10;
}
```

**Additional Configuration**
Customize the DHCP configuration to match your network requirements, such as specifying
lease times, additional options, and reservations for specific devices.

**Enable and Start DHCP Service**
To enable and start the DHCP service, use the following commands:

```bash
sudo systemctl enable dhcpd
sudo systemctl start dhcpd
```

**Check DHCP Status**

To verify that the DHCP server is running without errors, use:

```bash
sudo systemctl status dhcpd

```

**DHCP Lease Information**

You can view the lease information for DHCP clients in the /var/lib/dhcpd/dhcpd.leases file.
Firewall Configuration
Ensure that the firewall on your Fedora Server allows DHCP traffic (UDP port 67). You can
use firewall-cmd to open the required port:

```bash
sudo firewall-cmd --add-service dhcp --permanent
sudo firewall-cmd –reload
```

**Client Configuration**

On client devices, set the network interface to obtain an IP address automatically (DHCP). This
is typically done through the network settings or configuration files.

**Monitoring and Troubleshooting**
Monitor the DHCP server's logs (/var/log/messages or /var/log/dhcpd.log) for any issues or
errors. Use tools like dhcping and dhcpdump for testing and troubleshooting DHCP
communications.

**Security Considerations**

Secure your DHCP server by only allowing trusted devices to make DHCP requests. You can
configure this in your firewall rules.
DHCP server web interface
You can also use the DHCP server web interface to manage the DHCP server. To access the
web interface, open your web browser and navigate to the following URL:
(http://localhost:67/dhcp). The web interface will allow you to view and manage the DHCP
configuration file, as well as view statistics about the DHCP server.
DHCP Server Management
You can use the following commands to manage the DHCP server:
 systemctl status dhcpd: Show the status of the DHCP server.
 systemctl start dhcpd: Start the DHCP server.
 systemctl stop dhcpd: Stop the DHCP server.
 systemctl reload dhcpd: Reload the DHCP configuration file.
 dhcpdctl: A command-line tool for managing the DHCP server.
Troubleshooting
If you are having problems with the DHCP server, you can use the following commands to
troubleshoot the problems

```bash
dhcpdctl status  #Show the status of the DHCP server.
dhcpdctl leases #Show the DHCP leases that the server is currently serving.
dhcpdctl log #Show the DHCP server log file.
```

`Note: Remember to regularly review and update your DHCP server configuration as your
network evolves, and ensure that it continues to meet the needs of your networked devices.
DHCP is a critical service for network management, and proper configuration and
management are essential for a smoothly functioning network.`
